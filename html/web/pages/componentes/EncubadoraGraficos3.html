
<!DOCTYPE html>
<html>
<head>
		<meta charset="utf-8">
			<meta http-equiv="Content-Type" charset="UTF-8">
			<meta http-equiv="x-ua-compatible" content="ie=edge">
	    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
        <meta name="robots" content="noindex, nofollow">
        </head>
	 <?php  include_once (__DIR__. '\..\..\includes\head\configs\admin\head.html'); ?>
	
	 <?php  include_once (__DIR__. '\..\..\includes\head\configs\admin\importjavascript.html'); ?>
	
 <script src="https://cdn.anychart.com/releases/v8/js/anychart-base.min.js?hcode=c11e6e3cfefb406e8ce8d99fa8368d33"></script>
  <script src="https://cdn.anychart.com/releases/v8/js/anychart-ui.min.js?hcode=c11e6e3cfefb406e8ce8d99fa8368d33"></script>
  <script src="https://cdn.anychart.com/releases/v8/js/anychart-exports.min.js?hcode=c11e6e3cfefb406e8ce8d99fa8368d33"></script>
  <script src="https://cdn.anychart.com/releases/v8/js/anychart-stock.min.js?hcode=c11e6e3cfefb406e8ce8d99fa8368d33"></script>
  <script src="https://cdn.anychart.com/releases/v8/js/anychart-data-adapter.min.js?hcode=c11e6e3cfefb406e8ce8d99fa8368d33"></script>
  <link href="https://cdn.anychart.com/releases/v8/css/anychart-ui.min.css?hcode=c11e6e3cfefb406e8ce8d99fa8368d33" type="text/css" rel="stylesheet">
  <link href="https://cdn.anychart.com/releases/v8/fonts/css/anychart-font.min.css?hcode=c11e6e3cfefb406e8ce8d99fa8368d33" type="text/css" rel="stylesheet">
  <style type="text/css">

#container {
    width: 100%;
    height: 600px;
    margin: 0;
    padding: 0;
}
</style>
		
	<body class="styleguide">
	 <?php  include (__DIR__. '\..\..\includes\head/menu\admin\barrasuperior.html'); ?>

		<div class="styleguide-content">


	 <?php  include (__DIR__. '\..\..\includes\head/menu\admin\menulateral.html'); ?>

			<section class="styleguide-section">
				<div id="cnt-tipografia" class="cnt-tipografia">
					<h2 class="text-center">Encubadora</h2>
					<hr class="red center">
				
				<div class="row">
			

 



						<div class="col-md-3">
					<div class="select-component grid">
						<div class="hidden" id="selectEmp">
							<input id="emp1" type="radio" onselect="myFunction()" name="documento" value="5258">
							<input id="emp2" type="radio" onselect="myFunction()" name="documento" value="8133">
							<input id="emp3" type="radio" onselect="myFunction()" name="documento" value="20257">
							<input type="radio" name="documento" value="" checked="checked">
						</div>
						<div class="select-fake grid col-12">
							<div class="select-box col-12">
								<label for="emp1"  onselect="myFunction()" class="select-item">
									<span class="select-text">5258</span>
								</label>
								<label for="emp2" class="select-item">
									<span class="select-text">8133</span>
								</label>
								<label for="emp3" class="select-item">
									<span class="select-text">20257</span>
								</label>
								<p class="select-default">
									<span class="select-text">Selecione a empresa</span>
								</p>
							</div>
							<i class="select-arrow icon-gray-dark icon-seta-baixo-b"></i>
						</div>
					</div>

				</div>
										<div class="col-md-3">
					<div class="select-component grid">
						<div class="hidden" id="selectIndic">
							<input id="i1" type="radio" onselect="myFunction()" name="documento" value="2">
							
							<input id="i3" type="radio" onselect="myFunction()" name="documento" value="11">
							<input id="i4" type="radio" onselect="myFunction()" name="documento" value="13">
							<input id="i5" type="radio" onselect="myFunction()" name="documento" value="5">
							<input type="radio" name="documento" value="" checked="checked">
						</div>
						<div class="select-fake grid col-12">
							<div class="select-box col-12">
								<label for="i1"  onselect="myFunction()" class="select-item">
									<span class="select-text">Patrimonio</span>
								</label>
								
									<label for="i3" class="select-item">
									<span class="select-text">Divida</span>
								</label>
									<label for="i4" class="select-item">
									<span class="select-text">FCO</span>
								</label>
								<label for="i5" class="select-item">
									<span class="select-text">EBITDA</span>
								</label>
								<p class="select-default">
									<span class="select-text">Selecione o indicador</span>
								</p>
							</div>
							<i class="select-arrow icon-gray-dark icon-seta-baixo-b"></i>
						</div>
					</div>

					
				</div>
							<div class="col-md-3">
					<div class="select-component grid">
						<div class="hidden" id="selectEstatistica">
							<input id="pco" type="radio" onselect="myFunction()" name="documento" value="1">
							<input id="ema" type="radio" onselect="myFunction()" name="documento" value="2">
							<input id="psar" type="radio" onselect="myFunction()" name="documento" value="3">
							<input id="boillinger" type="radio" onselect="myFunction()" name="documento" value="4">
							<input type="radio" name="documento" value="" checked="checked">
						</div>
						<div class="select-fake grid col-12">
							<div class="select-box col-12">
								<label for="pco"  onselect="myFunction()" class="select-item">
									<span class="select-text">PCO</span>
								</label>
								<label for="ema" class="select-item">
									<span class="select-text">EMA</span>
								</label>
								<label for="psar" class="select-item">
									<span class="select-text">PSAR</span>
								</label>
									<label for="boillinger" class="select-item">
									<span class="select-text">Boillinger</span>
								</label>
								<p class="select-default">
									<span class="select-text">Selecione a estatistica</span>
								</p>
							</div>
							<i class="select-arrow icon-gray-dark icon-seta-baixo-b"></i>
						</div>
					</div>

					
				</div>
  <div id="container"></div>
  <script>
  var data = null;
  var teste1  = null;
  function exibeGrafico(cvm,indic,idestatistica){
   
            // create data table on loaded data
            xmlhttp=new XMLHttpRequest();
			xmlhttp.open("GET", "http://localhost/cogg/includes/json/getindicadores.html?cvm="+cvm+"&idindicador="+indic, false);
			xmlhttp.send();
			data = JSON.parse(xmlhttp.responseText);
         
       //var data= JSON.parse('[["2011-11-31",2201174.0,2201174.0,2201174.0,2201174.0,1],["2012-06-31",2234786.0,2234786.0,2234786.0,2234786.0,1],["2012-09-31",2255015.0,2255015.0,2255015.0,2255015.0,1],["2012-12-31",2264659.0,2264659.0,2264659.0,2264659.0,1],["2013-03-31",2275538.0,2275538.0,2275538.0,2275538.0,1],["2012-03-31",2213560.0,2213560.0,2213560.0,2213560.0,1],["2013-06-31",2291749.0,2291749.0,2291749.0,2291749.0,1],["2013-09-31",2304867.0,2304867.0,2304867.0,2304867.0,1],["2013-12-31",2326983.0,2326983.0,2326983.0,2326983.0,1],["2015-12-31",2656798.0,2656798.0,2656798.0,2656798.0,1],["2016-03-31",2655480.0,2655480.0,2655480.0,2655480.0,1],["2016-06-31",2767763.0,2767763.0,2767763.0,2767763.0,1],["2016-09-31",2838416.0,2838416.0,2838416.0,2838416.0,1],["2016-12-31",2935955.0,2935955.0,2935955.0,2935955.0,1],["2017-03-31",2930398.0,2930398.0,2930398.0,2930398.0,1],["2017-06-31",3023250.0,3023250.0,3023250.0,3023250.0,1],["2017-09-31",3112051.0,3112051.0,3112051.0,3112051.0,1],["2017-12-31",3250372.0,3250372.0,3250372.0,3250372.0,1],["2018-03-31",3224392.0,3224392.0,3224392.0,3224392.0,1],["2018-06-31",3314660.0,3314660.0,3314660.0,3314660.0,1],["2018-09-31",3394855.0,3394855.0,3394855.0,3394855.0,1],["2018-12-31",3534767.0,3534767.0,3534767.0,3534767.0,1],["2019-03-31",3571437.0,3571437.0,3571437.0,3571437.0,1],["2019-06-31",3591225.0,3591225.0,3591225.0,3591225.0,1],["2019-09-31",4005550.0,4005550.0,4005550.0,4005550.0,1]]');
   
            var dataTable = anychart.data.table();
            dataTable.addData(data);

            // map data for the candlestick series
            
   var mapping = dataTable.mapAs({
            'open': 1,
            'high': 2,
            'low': 3,
            'close': 4,
            'value': {'column': 4, 'type': 'close'}
        });

        // map loaded data for the scroller
   
         var valueMapping = dataTable.mapAs({ 'value': 4 });
      


            // create stock chart
             chart = anychart.stock();


            // create candlestick series
            chart.plot().line(mapping).name('cvm '+ cvm);

            // create price oscillator indicator
			if(idestatistica==1){           
		              var ppoIndicatorPlot =  chart.plot(2);
		              ppoIndicatorPlot.height('40%');
		               var ppoIndicator = ppoIndicatorPlot.ppo(mapping,3,6,2);
		               
		            	var indicatorPlot = chart.plot(1);
		
						// set second plot's height
						indicatorPlot.height('10%');
		
						// adding extra Y axis to the right side
						indicatorPlot.yAxis(1).orientation('right');
					var aoIndicator = indicatorPlot.ao(mapping,3,5);
		
						// set rising and falling stroke settings
						aoIndicator.series().risingStroke('green');
						aoIndicator.series().fallingStroke('red');
		
		            // get histogram series of the price oscillator
		            var histogram = ppoIndicator.histogramSeries();
		
		            // setup color scale ranges
		            var colorScale = anychart.scales.ordinalColor();
		            colorScale.ranges([{
		                less: 0,
		                color: '#FC1F28'
		            },
		            {
		                greater: 0,
		                color: '#4ED1FC'
		            },
		            ]);
			}else 
			if(idestatistica==2){        
			  // create EMA indicator with period 50
			  	
		        var ema50 =  chart.plot().ema(mapping,5).series();
		        ema50.stroke('#ffa000');
					
			
			}else 
			if(idestatistica==3){        
			
			   var indicator = chart.plot().psar(mapping, 0.03, 0.03, 0.3).series();
        // set indicator settings
		        indicator.type('square')
		            .size(1);
			
			}else 
			if(idestatistica==4){        
			 chart.plot().bbands(mapping, 8, 2);
		
		        var indicatorPlot = chart.plot(1);
		        indicatorPlot.height('30%');
		
		        // create BBands Width indicator with period 20, deviation = 3
		        var bBandsWidthIndicator = indicatorPlot.bbandsWidth(mapping, 8, 3, 'spline-area');
		        bBandsWidthIndicator.series()
		                .stroke('0.1 #F18126')
		                .fill(anychart.color.lighten(bBandsWidthIndicator.series().stroke().color, 0.01));
			
			
			
			}
			
            // set color scale for the histogram series
         //   histogram.colorScale(colorScale);

            // create scroller series
            chart.scroller().column(valueMapping);

            // set chart selected date/time range
           // chart.selectRange('2011-04-11', '2019-12-11');
			$("#container").empty();
            // set container id for the chart
            chart.container('container');
            // initiate chart drawing
            chart.draw();

            // create range picker
            var rangePicker = anychart.ui.rangePicker();
            // init range picker
            rangePicker.render(chart);

            // create range selector
            var rangeSelector = anychart.ui.rangeSelector();
            // init range selector
            rangeSelector.render(chart);
			
  }
   var selectedEst = 1;
  var selectedEmp = 5258;
  var selectedIndic = 2;
  $( "#selectEmp" ).change(function (e) {
  selectedEmp=e.target.value;
console.log(e.target.value);
 exibeGrafico(selectedEmp,selectedIndic,selectedEst);
       
//console.log($(':focus'));
});

  $( "#selectIndic" ).change(function (e) {
  selectedIndic=e.target.value;
console.log(e.target.value);
 exibeGrafico(selectedEmp,selectedIndic,selectedEst);
       
//console.log($(':focus'));
});

 $( "#selectEstatistica" ).change(function (e) {
  selectedEst=e.target.value;
console.log(e.target.value);
 exibeGrafico(selectedEmp,selectedIndic,selectedEst);
       
//console.log($(':focus'));
});
 function myFunction(){
  alert('ola')
  }
  var chart =null;
  exibeGrafico(selectedEmp,selectedIndic,selectedEst);


</script>

                
                
           
	</body>

   

</html>
